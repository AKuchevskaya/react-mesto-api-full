{"ast":null,"code":"import _slicedToArray from\"/Users/alenakuchevskaya/Desktop/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,buttonState=_ref.buttonState,onValidate=_ref.onValidate,errorMessage=_ref.errorMessage;var currentUser=useContext(CurrentUserContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isNameValid=_useState4[0],setNameValidity=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nameError=_useState6[0],setNameError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDescriptionValid=_useState10[0],setDescriptionValidity=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),descriptionError=_useState12[0],setDescriptionError=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isFormValid=_useState14[0],setValidityForm=_useState14[1];// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nuseEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleChangeName(e){var input=e.target;setName(input.value);}function handleChangeDescription(e){var input=e.target;setDescription(input.value);}function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile-redaction\",isOpen:isOpen,onClose:onClose,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",formName:\"form-redaction\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,onValidate:onValidate,buttonState:buttonState,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeName,type:\"text\",name:\"name\",value:name||\"\",placeholder:\"\\u0424\\u0418\\u041E\",className:\"popup__input popup__input_type_name \".concat(errorMessage.name&&\"popup__input_type_error\"),id:\"name-input\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error popup__error\",children:errorMessage.name&&errorMessage.name}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeDescription,type:\"text\",name:\"vocation\",value:description||\"\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",className:\"popup__input popup__input_type_vocation \".concat(errorMessage.vocation&&\"popup__input_type_error\"),id:\"vocation-input\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"vocation-input-error popup__error\",children:errorMessage.vocation&&errorMessage.vocation})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/alenakuchevskaya/Desktop/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"names":["useState","useContext","useEffect","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","buttonState","onValidate","errorMessage","currentUser","name","setName","isNameValid","setNameValidity","nameError","setNameError","description","setDescription","isDescriptionValid","setDescriptionValidity","descriptionError","setDescriptionError","isFormValid","setValidityForm","about","handleChangeName","e","input","target","value","handleChangeDescription","handleSubmit","preventDefault","vocation"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  buttonState,\n  onValidate,\n  errorMessage,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [isNameValid, setNameValidity] = useState(false);\n  const [nameError, setNameError] = useState(\"\");\n\n  const [description, setDescription] = useState(\"\");\n  const [isDescriptionValid, setDescriptionValidity] = useState(false);\n  const [descriptionError, setDescriptionError] = useState(\"\");\n\n  const [isFormValid, setValidityForm] = useState(false);\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(e) {\n    const input = e.target;\n\n    setName(input.value);\n  }\n  function handleChangeDescription(e) {\n    const input = e.target;\n\n    setDescription(input.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile-redaction\"\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Редактировать профиль\"\n      formName=\"form-redaction\"\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n      onValidate={onValidate}\n      buttonState={buttonState}\n    >\n      <input\n        onChange={handleChangeName}\n        type=\"text\"\n        name=\"name\"\n        value={name || \"\"}\n        placeholder=\"ФИО\"\n        className={`popup__input popup__input_type_name ${\n          errorMessage.name && \"popup__input_type_error\"\n        }`}\n        id=\"name-input\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span className=\"name-input-error popup__error\">\n        {errorMessage.name && errorMessage.name}\n      </span>\n\n      <input\n        onChange={handleChangeDescription}\n        type=\"text\"\n        name=\"vocation\"\n        value={description || \"\"}\n        placeholder=\"О себе\"\n        className={`popup__input popup__input_type_vocation ${\n          errorMessage.vocation && \"popup__input_type_error\"\n        }`}\n        id=\"vocation-input\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span className=\"vocation-input-error popup__error\">\n        {errorMessage.vocation && errorMessage.vocation}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}