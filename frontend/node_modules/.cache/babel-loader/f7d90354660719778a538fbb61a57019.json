{"ast":null,"code":"import React,{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(_ref){var name=_ref.name,isOpen=_ref.isOpen,onClose=_ref.onClose,title=_ref.title,onSubmit=_ref.onSubmit,formName=_ref.formName,children=_ref.children,buttonText=_ref.buttonText,onValidate=_ref.onValidate,buttonState=_ref.buttonState;useEffect(function(){if(!isOpen){return;}function handleEsc(e){if(e.key===\"Escape\"){onClose();}}function hundleClick(evt){if(evt.target.classList.contains(\"popup_opened\")){onClose();}}document.addEventListener(\"keydown\",handleEsc);document.addEventListener(\"click\",hundleClick);return function(){document.removeEventListener(\"keydown\",handleEsc);document.removeEventListener(\"click\",hundleClick);};},[isOpen]);return/*#__PURE__*/_jsx(\"div\",{className:\"popup popup_\".concat(name,\" \").concat(isOpen&&\"popup_opened\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"popup__close\",onClick:onClose}),/*#__PURE__*/_jsx(\"h3\",{className:\"popup__title\",children:title}),/*#__PURE__*/_jsxs(\"form\",{name:formName,onSubmit:onSubmit,className:\"popup__form  popup__\".concat(formName),onChange:onValidate,noValidate:true,children:[children,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"popup__save \".concat(buttonState&&\"popup__save_inactive\"),children:buttonText})]})]})});}export default PopupWithForm;","map":{"version":3,"sources":["/Users/alenakuchevskaya/Desktop/react-mesto-api-full/frontend/src/components/PopupWithForm.js"],"names":["React","useEffect","PopupWithForm","name","isOpen","onClose","title","onSubmit","formName","children","buttonText","onValidate","buttonState","handleEsc","e","key","hundleClick","evt","target","classList","contains","document","addEventListener","removeEventListener"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,wFAEA,QAASC,CAAAA,aAAT,MAWG,IAVDC,CAAAA,IAUC,MAVDA,IAUC,CATDC,MASC,MATDA,MASC,CARDC,OAQC,MARDA,OAQC,CAPDC,KAOC,MAPDA,KAOC,CANDC,QAMC,MANDA,QAMC,CALDC,QAKC,MALDA,QAKC,CAJDC,QAIC,MAJDA,QAIC,CAHDC,UAGC,MAHDA,UAGC,CAFDC,UAEC,MAFDA,UAEC,CADDC,WACC,MADDA,WACC,CACDX,SAAS,CAAC,UAAM,CACd,GAAI,CAACG,MAAL,CAAa,CACX,OACD,CAED,QAASS,CAAAA,SAAT,CAAmBC,CAAnB,CAAsB,CACpB,GAAIA,CAAC,CAACC,GAAF,GAAU,QAAd,CAAwB,CACtBV,OAAO,GACR,CACF,CACD,QAASW,CAAAA,WAAT,CAAqBC,GAArB,CAA0B,CACxB,GAAIA,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqBC,QAArB,CAA8B,cAA9B,CAAJ,CAAmD,CACjDf,OAAO,GACR,CACF,CAEDgB,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCT,SAArC,EACAQ,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCN,WAAnC,EACA,MAAO,WAAM,CACXK,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCV,SAAxC,EACAQ,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,CAAsCP,WAAtC,EACD,CAHD,CAID,CAtBQ,CAsBN,CAACZ,MAAD,CAtBM,CAAT,CAwBA,mBACE,YAAK,SAAS,uBAAiBD,IAAjB,aAAyBC,MAAM,EAAI,cAAnC,CAAd,uBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,OAAO,CAAEC,OAHX,EADF,cAME,WAAI,SAAS,CAAC,cAAd,UAA8BC,KAA9B,EANF,cAOE,cACE,IAAI,CAAEE,QADR,CAEE,QAAQ,CAAED,QAFZ,CAGE,SAAS,+BAAyBC,QAAzB,CAHX,CAIE,QAAQ,CAAEG,UAJZ,CAKE,UAAU,KALZ,WAOGF,QAPH,cAQE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,uBAAiBG,WAAW,EAAI,sBAAhC,CAFX,UAIGF,UAJH,EARF,GAPF,GADF,EADF,CA2BD,CACD,cAAeR,CAAAA,aAAf","sourcesContent":["import React, { useEffect } from \"react\";\n\nfunction PopupWithForm({\n  name,\n  isOpen,\n  onClose,\n  title,\n  onSubmit,\n  formName,\n  children,\n  buttonText,\n  onValidate,\n  buttonState,\n}) {\n  useEffect(() => {\n    if (!isOpen) {\n      return;\n    }\n\n    function handleEsc(e) {\n      if (e.key === \"Escape\") {\n        onClose();\n      }\n    }\n    function hundleClick(evt) {\n      if (evt.target.classList.contains(\"popup_opened\")) {\n        onClose();\n      }\n    }\n\n    document.addEventListener(\"keydown\", handleEsc);\n    document.addEventListener(\"click\", hundleClick);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc);\n      document.removeEventListener(\"click\", hundleClick);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className={`popup popup_${name} ${isOpen && \"popup_opened\"}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={onClose}\n        ></button>\n        <h3 className=\"popup__title\">{title}</h3>\n        <form\n          name={formName}\n          onSubmit={onSubmit}\n          className={`popup__form  popup__${formName}`}\n          onChange={onValidate}\n          noValidate\n        >\n          {children}\n          <button\n            type=\"submit\"\n            className={`popup__save ${buttonState && \"popup__save_inactive\"}`}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n"]},"metadata":{},"sourceType":"module"}