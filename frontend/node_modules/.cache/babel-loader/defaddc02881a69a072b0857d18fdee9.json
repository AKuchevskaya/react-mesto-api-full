{"ast":null,"code":"import _classCallCheck from\"/Users/alenakuchevskaya/Desktop/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/alenakuchevskaya/Desktop/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._headers=headers;this._baseUrl=baseUrl;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getProfile\",value:function getProfile(token){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include'// т.к. разрешила в браузере запросы c Allow-Credentials\n}).then(function(res){return _this._checkResponse(res);});}},{key:\"editAvatar\",value:function editAvatar(avatar,token){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include',// т.к. разрешила в браузере запросы c Allow-Credentials\nbody:JSON.stringify({avatar:avatar})}).then(function(res){return _this2._checkResponse(res);});}},{key:\"editProfile\",value:function editProfile(name,about,token){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include',// т.к. разрешила в браузере запросы c Allow-Credentials\nbody:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._checkResponse(res);});}},{key:\"getInitialCards\",value:function getInitialCards(token){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include'// т.к. разрешила в браузере запросы c Allow-Credentials\n}).then(function(res){return _this4._checkResponse(res);});}},{key:\"addCard\",value:function addCard(name,link,token){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include',// т.к. разрешила в браузере запросы c Allow-Credentials\nbody:JSON.stringify({name:name,link:link})}).then(function(res){return _this5._checkResponse(res);});}},{key:\"deleteCard\",value:function deleteCard(id,token){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include'// т.к. разрешила в браузере запросы c Allow-Credentials\n}).then(function(res){return _this6._checkResponse(res);});}},{key:\"deleteLike\",value:function deleteLike(id,token){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include'// т.к. разрешила в браузере запросы c Allow-Credentials\n}).then(function(res){return _this7._checkResponse(res);});}},{key:\"addLike\",value:function addLike(id,token){var _this8=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include'// т.к. разрешила в браузере запросы c Allow-Credentials\n}).then(function(res){return _this8._checkResponse(res);});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked,token){var _this9=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:isLiked?\"PUT\":\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},credentials:'include'// т.к. разрешила в браузере запросы c Allow-Credentials\n}).then(function(res){return _this9._checkResponse(res);});}}]);return Api;}();var api=new Api({baseUrl:\"https://api.mesto.kuchevskaya.nomoredomains.xyz\"//baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-39\",\n// headers: {\n//   \"Content-Type\": \"application/json\",\n//   \"Authorization\": `Bearer ${token}`,\n// },\n});export default api;","map":{"version":3,"sources":["/Users/alenakuchevskaya/Desktop/react-mesto-api-full/frontend/src/utils/Api.js"],"names":["Api","baseUrl","headers","_headers","_baseUrl","res","ok","json","Promise","reject","status","token","fetch","credentials","then","_checkResponse","avatar","method","body","JSON","stringify","name","about","link","id","isLiked","api"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getProfile(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n    }).then((res) => this._checkResponse(res));\n  }\n\n  editAvatar(avatar, token) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  editProfile(name, about, token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n    }).then((res) => this._checkResponse(res));\n  }\n\n  addCard(name, link, token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n    }).then((res) => this._checkResponse(res));\n  }\n\n  deleteLike(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n    }).then((res) => this._checkResponse(res));\n  }\n\n  addLike(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n    }).then((res) => this._checkResponse(res));\n  }\n\n  changeLikeCardStatus(id, isLiked, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      },\n      credentials: 'include', // т.к. разрешила в браузере запросы c Allow-Credentials\n\n    }).then((res) => this._checkResponse(res));\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://api.mesto.kuchevskaya.nomoredomains.xyz\",\n  //baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-39\",\n  // headers: {\n  //   \"Content-Type\": \"application/json\",\n  //   \"Authorization\": `Bearer ${token}`,\n  // },\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}